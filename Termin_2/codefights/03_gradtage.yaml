---
task_name: gradtage

description: >
	Das Tag-Grad-Verfahren ermittelt fuer mehrere
	aufeinanderfolgende Tage die Summe der Tagesmitteltemperaturen,
	die einen Schwellenwert `minT` ueberschreiten. Das Verfahren
	wird in unterschiedlichsten Bereichen eingesetzt: bei der
	Modellierung der Schneeschmelze, des Heizwaermebedarfs oder
	der phaenologischen Entwicklung von Pflanzen.
	
	Wir nehmen an, eine Feldfrucht ist nach einer bestimmten Zahl
	Gradtagen `erntereif`. Bestimme den Zeitpunkt der Ernte.
	 
input1:
	name: temp
	type: Array of floats
	description: Vektor der Tagesmitteltemperaturen 

input2:
	name: minT
	type: Float
	description: Schwellenwert der Tempertur, ab welcher Gradtage gezaehlt werden. 
	
output:
	type: erntereif
	description: Gradtage, die zur Ernte erreicht werden muessen.

test1:
	input:
	- [1,7,3,2,4,8,3,8,7,3,5,1]
	- 2
	- 10
	output: 6

test2:
	input:
	- [1,7,3,2,4,8,3,8,7,3,5,1]
	- 4
	- 10
	output: 8

test3:
	input:
	- [1,7,3,2,4,8,3,8,7,3,5,1]
	- 4
	- 12
	output: 9

test4:
	input:
	- [1,7,3,2,4,8,3,8,7,3,5,1]
	- 4
	- 15
	output: 11

solution: |
	gradtage = function(temp, minT, erntereif) {
	  x = temp - minT
	  x[x<0] = 0
	  return( which(cumsum(x)>=erntereif)[1] )
	}
	
	
	
	